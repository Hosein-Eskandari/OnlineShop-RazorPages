<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Coderthemes">

    <link rel="shortcut icon" href="images/favicon_1.ico">

    <title>@ViewData["Title"] | Lampshade Shop</title>
    <meta name="keywords" content=""/>
    <meta name="description" content=""/>

    <!-- Base Css Files -->
    <link href="~/AdminTheme/assets/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Font Icons -->
    <link href="~/AdminTheme/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="~/AdminTheme/assets/ionicon/css/ionicons.min.css" rel="stylesheet"/>
    <link href="~/AdminTheme/assets/css/material-design-iconic-font.min.css" rel="stylesheet">

    <!-- animate css -->
    <link href="~/AdminTheme/assets/css/animate.css" rel="stylesheet"/>

    <!-- Waves-effect -->
    <link href="~/AdminTheme/assets/css/waves-effect.css" rel="stylesheet">

    <link href="~/AdminTheme/assets/datatables/jquery.dataTables.min.css" rel="stylesheet" type="text/css"/>

    <!-- sweet alerts -->
    <link href="~/AdminTheme/assets/sweet-alert/sweet-alert.min.css" rel="stylesheet">

    <!-- Custom Files -->
    <link href="~/AdminTheme/assets/css/persian-datepicker.min.css" rel="stylesheet"/>

    @RenderSection("CSS", false)


    <link href="~/AdminTheme/assets/css/helper.css" rel="stylesheet" type="text/css"/>
    <link href="~/AdminTheme/assets/css/style.css" rel="stylesheet" type="text/css"/>
    <script src="~/AdminTheme/assets/js/modernizr.min.js"></script>


</head>

<body class="fixed-left">

<!-- Begin page -->
<div id="wrapper">

    <div class="topbar">
        <!-- LOGO -->
        <div class="topbar-left">
            <div class="text-center">
                @*                   <a href="index.html" class="logo"><i class="md md-terrain"></i> <span> پنل مدیریت محصولات </span></a>
                    *@
                <br/>
                <span>
                    <h4>پنل مدیریت محصولات</h4>
                </span>

            </div>
        </div>
        <!-- Button mobile view to collapse sidebar menu -->
        <div class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="">
                    <div class="pull-left">
                        <button class="button-menu-mobile open-left">
                            <i class="fa fa-bars"></i>
                        </button>
                        <span class="clearfix"></span>
                    </div>
                    <form class="navbar-form pull-left" role="search">
                        <div class="form-group">
                            <input type="text" class="form-control search-bar" placeholder="Type here for search...">
                        </div>
                        <button type="submit" class="btn btn-search">
                            <i class="fa fa-search"></i>
                        </button>
                    </form>

                    <ul class="nav navbar-nav navbar-right pull-right">
                        <li class="dropdown hidden-xs">
                            @*                                <a href="#" data-target="#" class="dropdown-toggle waves-effect waves-light" data-toggle="dropdown" aria-expanded="true">
                                <i class="md md-notifications"></i> <span class="badge badge-xs badge-danger">3</span>
                                </a>*@
                            <ul class="dropdown-menu dropdown-menu-lg">
                                <li class="text-center notifi-title">Notification</li>
                                <li class="list-group">
                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left">
                                                <em class="fa fa-user-plus fa-2x text-info"></em>
                                            </div>
                                            <div class="media-body clearfix">
                                                <div class="media-heading">New user registered</div>
                                                <p class="m-0">
                                                    <small>You have 10 unread messages</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left">
                                                <em class="fa fa-diamond fa-2x text-primary"></em>
                                            </div>
                                            <div class="media-body clearfix">
                                                <div class="media-heading">New settings</div>
                                                <p class="m-0">
                                                    <small>There are new settings available</small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                    <!-- list item-->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <div class="media">
                                            <div class="pull-left">
                                                <em class="fa fa-bell-o fa-2x text-danger"></em>
                                            </div>
                                            <div class="media-body clearfix">
                                                <div class="media-heading">Updates</div>
                                                <p class="m-0">
                                                    <small>
                                                        There are
                                                        <span class="text-primary">2</span> new updates available
                                                    </small>
                                                </p>
                                            </div>
                                        </div>
                                    </a>
                                    <!-- last list item -->
                                    <a href="javascript:void(0);" class="list-group-item">
                                        <small>See all notifications</small>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="" class="dropdown-toggle profile" data-toggle="dropdown" aria-expanded="true">
                                <img src="~/AdminTheme/assets/images/avatar-1.jpg" alt="user-img" class="img-circle">
                            </a>
                            <ul class="dropdown-menu">
                                <li>
                                    <a href="javascript:void(0)"><i class="md md-face-unlock"></i> Profile</a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><i class="md md-settings"></i> Settings</a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><i class="md md-lock"></i> Lock screen</a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><i class="md md-settings-power"></i> Logout</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
        </div>
    </div>

    <partial name="_Menu"/>

    <div class="content-page">
        <!-- Start content -->
        <div class="content">
            <div class="container">

                @RenderBody()

            </div> <!-- container -->

        </div> <!-- content -->

        <footer class="footer text-right">
            فروشگاه لوازم خانگی
        </footer>

    </div>
</div>

<div id="MainModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content" id="ModalContent">
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/AdminTheme/assets/js/bootstrap.min.js"></script>
<script src="~/AdminTheme/assets/js/waves.js"></script>
<script src="~/AdminTheme/assets/js/wow.min.js"></script>
<script src="~/AdminTheme/assets/js/jquery.nicescroll.js" type="text/javascript"></script>
<script src="~/AdminTheme/assets/js/jquery.scrollTo.min.js"></script>
<script src="~/AdminTheme/assets/chat/moment-2.2.1.js"></script>
<script src="~/AdminTheme/assets/jquery-sparkline/jquery.sparkline.min.js"></script>
<script src="~/AdminTheme/assets/jquery-detectmobile/detect.js"></script>
<script src="~/AdminTheme/assets/fastclick/fastclick.js"></script>
<script src="~/AdminTheme/assets/jquery-slimscroll/jquery.slimscroll.js"></script>
<script src="~/AdminTheme/assets/jquery-blockui/jquery.blockUI.js"></script>

<!-- sweet alerts -->
<script src="~/AdminTheme/assets/sweet-alert/sweet-alert.min.js"></script>
<script src="~/AdminTheme/assets/sweet-alert/sweet-alert.init.js"></script>

<!-- flot Chart -->
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.time.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.tooltip.min.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.resize.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.pie.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.selection.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.stack.js"></script>
<script src="~/AdminTheme/assets/flot-chart/jquery.flot.crosshair.js"></script>

<!-- Counter-up -->
<script src="~/AdminTheme/assets/counterup/waypoints.min.js" type="text/javascript"></script>
<script src="~/AdminTheme/assets/counterup/jquery.counterup.min.js" type="text/javascript"></script>


<!-- CUSTOM JS -->
<script src="~/AdminTheme/assets/js/jquery.app.js"></script>

<!-- Dashboard -->
<script src="~/AdminTheme/assets/js/jquery.dashboard.js"></script>

<!-- Chat -->
<script src="~/AdminTheme/assets/js/jquery.chat.js"></script>

<!-- Todo -->
<script src="~/AdminTheme/assets/js/jquery.todo.js"></script>

<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>


<script src="~/AdminTheme/assets/js/site.js"></script>

<script src="~/AdminTheme/assets/js/persian-date.min.js"></script>
<script src="~/AdminTheme/assets/js/persian-datepicker.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.2/chart.min.js" integrity="sha512-VCHVc5miKoln972iJPvkQrUYYq7XpxXzvqNfiul1H4aZDwGBGC0lq373KNleaB2LpnC2a/iNfE5zoRYmB4TRDQ==" crossorigin="anonymous" referrerpolicy="no-referrer">

</script>


@RenderSection("Scripts", false)

<script>

    $('.PersianDateInput').persianDatepicker({
        //format: 'YYYY/MM/DD',
        //format: 'YYYY/MM/DD hh:mm:ss:ms',
        format: 'HH:mm:ss YYYY/MM/DD',
        autoClose: true,
        initialValueType: "persian",
        theme: 'dark'


    });
</script>

<script src="~/lib/ckeditor5/build/ckeditor.js"></script>
<script src="~/lib/ckeditor5/build/translations/pl.js"></script>

<script>
    class MyUploadAdapter {
        constructor(loader) {
            // The file loader instance to use during the upload.
            this.loader = loader;
        }

        // Starts the upload process.
        upload() {
            return this.loader.file
                .then(file => new Promise((resolve, reject) => {
                    this._initRequest();
                    this._initListeners(resolve, reject, file);
                    this._sendRequest(file);
                }));
        }

        // Aborts the upload process.
        abort() {
            if (this.xhr) {
                this.xhr.abort();
            }
        }

        // Initializes the XMLHttpRequest object using the URL passed to the constructor.
        _initRequest() {
            const xhr = this.xhr = new XMLHttpRequest();

            // Note that your request may look different. It is up to you and your editor
            // integration to choose the right communication channel. This example uses
            // a POST request with JSON as a data structure but your configuration
            // could be different.
            //xhr.open('POST', '@Url.PageLink("./Register", "UploadImage")', true);
            xhr.open('POST', "./Register?handler=UploadImage", true);
            debugger;
            xhr.responseType = 'json';
        }

        // Initializes XMLHttpRequest listeners.
        _initListeners(resolve, reject, file) {
            const xhr = this.xhr;
            const loader = this.loader;
            const genericErrorText = `Couldn't upload file: ${file.name}.`;

            xhr.addEventListener('error', () => reject(genericErrorText));
            xhr.addEventListener('abort', () => reject());
            xhr.addEventListener('load',
                () => {
                    const response = xhr.response;

                    // This example assumes the XHR server's "response" object will come with
                    // an "error" which has its own "message" that can be passed to reject()
                    // in the upload promise.
                    //
                    // Your integration may handle upload errors in a different way so make sure
                    // it is done properly. The reject() function must be called when the upload fails.
                    if (!response || response.error) {
                        return reject(response && response.error ? response.error.message : genericErrorText);
                    }

                    // If the upload is successful, resolve the upload promise with an object containing
                    // at least the "default" URL, pointing to the image on the server.
                    // This URL will be used to display the image in the content. Learn more in the
                    // UploadAdapter#upload documentation.
                    resolve({
                        default: response.url
                    });
                });

            // Upload progress when it is supported. The file loader has the #uploadTotal and #uploaded
            // properties which are used e.g. to display the upload progress bar in the editor
            // user interface.
            if (xhr.upload) {
                xhr.upload.addEventListener('progress',
                    evt => {
                        if (evt.lengthComputable) {
                            loader.uploadTotal = evt.total;
                            loader.uploaded = evt.loaded;
                        }
                    });
            }
        }

        // Prepares the data and sends the request.
        _sendRequest(file) {
            // Prepare the form data.
            const data = new FormData();

            data.append('upload', file);

            // Important note: This is the right place to implement security mechanisms
            // like authentication and CSRF protection. For instance, you can use
            // XMLHttpRequest.setRequestHeader() to set the request headers containing
            // the CSRF token generated earlier by your application.

            // Send the request.
            this.xhr.send(data);
        }
    }

    function MyCustomUploadAdapterPlugin(editor) {
        editor.plugins.get('FileRepository').createUploadAdapter = (loader) => {
            // Configure the URL to the upload script in your back-end here!
            return new MyUploadAdapter(loader);
        };
    }

    ClassicEditor
        .create(document.querySelector('#editor'),
            {
                extraPlugins: [MyCustomUploadAdapterPlugin],
                //toolbar: [
                //    'heading', '|', 'alignment:left', 'alignment:right', 'alignment:center', 'alignment:justify'
                //],
                language: 'fa',
                ckfinder: { uploadUrl: './Register/?handler=UploadImage' }
                // More configuration options.
                // ...
            })
        .catch(error => {
            console.log(error);
        });

</script>


<!-- Start TinyMce Editor config -->
<!-- End CKEditor5 Editor config -->

</body>
</html>